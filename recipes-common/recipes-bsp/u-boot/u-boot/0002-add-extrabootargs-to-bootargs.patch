From c5511ba29ed855301b3b2f144f01d3d63eefbdf7 Mon Sep 17 00:00:00 2001
From: Stanimir Bonev <bonev.stanimir@gmail.com>
Date: Sat, 22 Jul 2023 18:42:31 +0300
Subject: [PATCH] add extrabootargs to bootargs

---
 configs/vkrzv2l_defconfig | 2 +-
 include/configs/vkrzv2l.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/configs/vkrzv2l_defconfig b/configs/vkrzv2l_defconfig
index 3a08e8467e..a933ab08cd 100644
--- a/configs/vkrzv2l_defconfig
+++ b/configs/vkrzv2l_defconfig
@@ -14,7 +14,7 @@ CONFIG_SMBIOS_PRODUCT_NAME=""
 # CONFIG_ANDROID_BOOT_IMAGE is not set
 CONFIG_FIT=y
 CONFIG_USE_BOOTARGS=y
-CONFIG_BOOTARGS="rw rootwait earlycon root=/dev/mmcblk0p1"
+CONFIG_BOOTARGS="rw rootwait earlycon root=/dev/mmcblk0p1 ${extrabootargs}"
 CONFIG_SUPPORT_RAW_INITRD=y
 CONFIG_DEFAULT_FDT_FILE="vkrzv2l.dtb"
 CONFIG_VERSION_VARIABLE=y
diff --git a/include/configs/vkrzv2l.h b/include/configs/vkrzv2l.h
index 78e3d5ccea..f7d5b48b15 100644
--- a/include/configs/vkrzv2l.h
+++ b/include/configs/vkrzv2l.h
@@ -101,7 +101,7 @@
 	"mmcpart=" __stringify(CONFIG_SYS_MMC_ENV_PART) "\0" \
 	"dtb_addr=0x48000000 \0" \
 	"image_addr=0x48080000 \0" \
-	"mmcbootargs=setenv bootargs rw rootwait earlycon root=/dev/mmcblk0p2 \0" \
+	"mmcbootargs=setenv bootargs rw rootwait earlycon root=/dev/mmcblk0p2 ${extrabootargs}\0" \
 	"loadimage=fatload mmc ${mmcdev}:${mmcpart} ${image_addr} ${image}\0" \
 	"loadfdt=echo loading ${fdtfile};fatload mmc ${mmcdev}:${mmcpart} ${dtb_addr} ${fdtfile}\0" \
 	"mmcload=mmc dev ${mmcdev};run loadfdt;run loadimage;run mmcbootargs \0" \
